!function(c){"use strict";if(void 0===c)throw new Error("Geetest requires browser environment");var f=c.document,a=c.Math,g=f.getElementsByTagName("head")[0];function i(e){this._obj=e}function t(e){var n=this;new i(e)._each(function(e,t){n[e]=t})}i.prototype={_each:function(e){var t=this._obj;for(var n in t)t.hasOwnProperty(n)&&e(n,t[n]);return this}},t.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var e=this;return d(e.type)?e.fallback_config[e.type]:e.new_captcha?e.fallback_config.fullpage:e.fallback_config.slide},_extend:function(e){var n=this;new i(e)._each(function(e,t){n[e]=t})}};function s(e){return"object"==typeof e&&null!==e}function u(e,t,n,o){t=t.replace(/^https?:\/\/|\/$/g,"");var r,a=(0!==(r=(r=n).replace(/\/+/g,"/")).indexOf("/")&&(r="/"+r),r+function(e){if(!e)return"";var n="?";return new i(e)._each(function(e,t){!d(t)&&"number"!=typeof t&&"boolean"!=typeof t||(n=n+encodeURIComponent(e)+"="+encodeURIComponent(t)+"&")}),"?"===n&&(n=""),n.replace(/&$/,"")}(o));return t&&(a=e+t+a),a}function l(o,r,a,i,c,e,s){var l=function(n){!function(e,t){var n=f.createElement("script");n.charset="UTF-8",n.async=!0,/static\.geetest\.com/g.test(e)&&(n.crossOrigin="anonymous");var o=!(n.onerror=function(){t(!0)});n.onload=n.onreadystatechange=function(){o||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(o=!0,setTimeout(function(){t(!1)},0))},n.src=e,g.appendChild(n)}(u(a,i[n],c,e),function(e){if(e)if(n>=i.length-1){if(s(!0),r){o.error_code=508;var t=a+i[n]+c;y(o,t)}}else l(n+1);else s(!1)})};l(0)}function n(e,t,n,o){if(s(n.getLib))return n._extend(n.getLib),void o(n);if(n.offline)o(n._get_fallback_config());else{var r="geetest_"+(parseInt(1e4*a.random())+(new Date).valueOf());c[r]=function(e){"success"==e.status?o(e.data):e.status?o(n._get_fallback_config()):o(e),c[r]=void 0;try{delete c[r]}catch(e){}},l(n,!0,n.protocol,e,t,{gt:n.gt,callback:r},function(e){e&&o(n._get_fallback_config())})}}function p(e,t){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof t.onError)throw new Error(n[e]);t.onError(n[e])}var d=function(e){return"string"==typeof e},h=/Mobi/i.test(navigator.userAgent)?3:0,_={},v={},y=function(e,t){var n,o,r,a,i,c,s;l(e,!1,e.protocol,["monitor.geetest.com"],"/monitor/send",{time:(n=new Date,o=n.getFullYear(),r=n.getMonth()+1,a=n.getDate(),i=n.getHours(),c=n.getMinutes(),s=n.getSeconds(),1<=r&&r<=9&&(r="0"+r),0<=a&&a<=9&&(a="0"+a),0<=i&&i<=9&&(i="0"+i),0<=c&&c<=9&&(c="0"+c),0<=s&&s<=9&&(s="0"+s),o+"-"+r+"-"+a+" "+i+":"+c+":"+s),captcha_id:e.gt,challenge:e.challenge,pt:h,exception_url:t,error_code:e.error_code},function(e){})};(c.Geetest||f.getElementById("gt_lib"))&&(v.slide="loaded"),c.initGeetest=function(e,o){var i=new t(e);e.https?i.protocol="https://":e.protocol||(i.protocol=c.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==e.gt&&"3bd38408ae4af923ed36e13819b14d42"!==e.gt||(i.apiserver="yumchina.geetest.com/",i.api_server="yumchina.geetest.com"),e.gt&&(c.GeeGT=e.gt),e.challenge&&(c.GeeChallenge=e.challenge),s(e.getType)&&i._extend(e.getType),n([i.api_server||i.apiserver],i.typePath,i,function(e){function t(){i._extend(e),o(new c.Geetest(i))}var a=e.type;_[a]=_[a]||[];var n=v[a]||"init";"init"===n?(v[a]="loading",_[a].push(t),l(i,!0,i.protocol,e.static_servers||e.domains,e[a]||e.path,null,function(e){if(e)v[a]="fail",p("networkError",i);else{v[a]="loaded";for(var t=_[a],n=0,o=t.length;n<o;n+=1){var r=t[n];"function"==typeof r&&r()}_[a]=[]}})):"loaded"===n?t():"fail"===n?p("networkError",i):"loading"===n&&_[a].push(t)})}}(window);